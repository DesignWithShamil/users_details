<table class="min-w-full bg-white shadow rounded mb-8">
  <thead>
    <tr class="bg-blue-600 text-white">
      <th class="px-4 py-2 text-left">IFID</th>
      <th class="px-4 py-2 text-left">NAME</th>
      <th class="px-4 py-2 text-left">Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for emp in list %}
    <tr class="border-b">
      <td class="px-4 py-2">{{ emp.ifid }}</td>
      <td class="px-4 py-2">{{ emp.name }}</td>
      <td class="py-3 px-4">
      <a href="#modal-edit-{{ emp.id }}">
  <button class="text-blue-600 hover:text-blue-900 mr-3">Edit</button>
</a>

<div id="modal-edit-{{ emp.id }}" class="modal hidden fixed inset-0 flex items-center justify-center bg-black bg-opacity-50">
  <div class="bg-white p-6 rounded shadow-lg w-full max-w-md">
    <a href="#" class="float-right text-xl font-bold">&times;</a>
    <h2 class="text-xl font-bold mb-4">Edit Employee</h2>

    <form method="POST" action="{% url 'edit_conv' emp.id %}">
      {% csrf_token %}

      <label class="block mb-2">IFID</label>
      <input type="number" name="ifid" value="{{ emp.ifid }}" required class="w-full mb-4 px-3 py-2 border rounded">

      <label class="block mb-2">Name</label>
      <input type="text" name="name" value="{{ emp.name }}" required class="w-full mb-4 px-3 py-2 border rounded">

      <!-- âœ… ENTITY DROPDOWN -->
      <label class="block mb-2">Entity</label>
      <select name="entity" required class="w-full mb-4 px-3 py-2 border rounded">
        <option value="INFOLKS" {% if emp.entity == "INFOLKS" %}selected{% endif %}>INFOLKS</option>
        <option value="WEBFOLKS" {% if emp.entity == "WEBFOLKS" %}selected{% endif %}>WEBFOLKS</option>
        <option value="MEDRAYS" {% if emp.entity == "MEDRAYS" %}selected{% endif %}>MEDRAYS</option>
        <option value="INFOLKSGROUP" {% if emp.entity == "INFOLKSGROUP" %}selected{% endif %}>INFOLKSGROUP</option>
      </select>

      <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Save</button>
    </form>
  </div>
</div>


        <a href="#modal-delete-{{ emp.id }}">
          <button class="text-red-600 hover:text-red-900">Delete</button>
        </a>
        <div id="modal-delete-{{ emp.id }}" class="modal hidden fixed inset-0 flex items-center justify-center bg-black bg-opacity-50">
          <div class="bg-white p-6 rounded shadow-lg w-full max-w-md">
            <a href="#" class="float-right text-xl font-bold">&times;</a>
            <h2 class="text-xl font-bold mb-4">Delete Employee</h2>
            <form method="POST" action="{% url 'delete_conv' emp.id %}">
              {% csrf_token %}
              <p class="mb-4">Are you sure you want to delete <strong>{{ emp.name }}</strong>?</p>
              <button type="submit" class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600">DELETE</button>
            </form>
          </div>
        </div>
      </td>
    </tr>
    {% empty %}
    <tr><td colspan="3" class="px-4 py-2 text-gray-500">No records found.</td></tr>
    {% endfor %}
  </tbody>
</table>
